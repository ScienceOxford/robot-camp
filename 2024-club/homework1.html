<!DOCTYPE html>
<html>

<head>
  <title>Robot Club - Optional Work 1</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Mono&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <header>
    <header>
      <a href="https://scienceoxford.com" target="_blank"><img src=".\images\so_logo.png" alt="Science Oxford Logo" width="400px" height="auto"></a>
    <h1>Optional Work 1: debugging techniques</h1>
    <p>If you would like to achieve a Silver CREST Award, the suggestions below will help you to extend your robot project.</p>
    <p>Remember to save copies of your work and/or take photographs, to use in your final report.</p>
    <br>
  </header>

  <div id="microbit" class="left">
    <h3>using your micro:bit at home</h3>
    <p>Open <a href="https://python.microbit.org/v/3">the editor</a> to get started.</p>
    <p>Connect your micro:bit to your device with the USB cable and wait for a few seconds for it to register the new connection.</p>
    <p>Click 'Send to microbit' on the editor, and follow the prompts to connect your micro:bit - <strong>the pop-ups include screenshots of what to click</strong> to make sure that it works.</p>
    <br>
    <p>If you want to continue working on a program, first check if you saved a <strong>.hex</strong> (will include any extra files, such as bot.py) or <strong>.py</strong> (just the main code).</p>
    <p>For either file, you can click <strong>Open</strong> in the bottom right of the editor.</p>
    <p>Alternatively:</p>
    <ul>
      <li>If a <strong>.hex</strong>, you can drag-and-drop the file directly onto the editor, and your code will replace what is currently there.</li>
      <li>If a <strong>.py</strong>, you can open it in a text editor and copy-and-paste your code into the micro:bit editor.</li>
    </ul>
    <br>
    <br>
  </div>

  <div id="sensors" class="left">
    <h3>using built-in sensors</h3>
    <p>To make it easier to practice your robot's logic at home, we are going to edit the ultrasonic distance sensor code to use the micro:bit's built-in <strong>light level sensor</strong> and <strong>temperature sensor</strong> instead, and replace the <code>drive()</code> function with messages on the <strong>micro:bit's display</strong>.</p>
    <p>An example program you can download is linked below, or you can see the syntax examples and edit your own version of the ultrasonic drive code that you worked on during the workshop.</p>
    <pre>while True:
    light = display.read_light_level()
    if light <= 10.0:
        display.scroll('dark')

        temp = temperature()
        if temp <= 10.0:
            display.scroll('cold')

        else:
            display.scroll('warm')

    else:
        display.scroll('bright')
    </pre>
    <br>
    <p>In this example, the micro:bit checks if it is bright or dark. If it is dark, it then checks if the temperature is warm or cold.</p>
    <p><em>Example program: <a href=".\examples\LightTemp-Basic.py" target="_blank">LightTemp-Basic.py</a></em></p>
    <p>Edit the program until you are happy with the way it works. You could use other sensors, such as the microphone or accelerometer instead (check the <strong>Reference</strong> for the syntax).</p>
    <p>Test your code on the <strong>Emulator</strong>, changing the sensor values using the sliders, to check how it behaves with different values. Then download your code and test it in real life.</p>
    <br>
    <br>
  </div>

  <div id="debugging1" class="left">
    <h3>debugging technique #1 - print statements</h3>
    <p>If your micro:bit is connected to your computer, you can open the <strong>terminal</strong> to get live information from the micro:bit.</p>
    <p>Edit your code to add in a <strong>print statement</strong>, which tells the micro:bit to <strong>print</strong> some information to the <strong>terminal</strong>.</p>
    <pre>print(light)</pre>
    <br>
    <p>Run your code and check that it works.</p>
    <ul>
      <li>How often does the micro:bit print the information? Do you need to add a <code>sleep()</code> command to slow it down?</li>
      <li>Think about the best place in your code to check the sensor data.</li>
    </ul>
    <p>You can expand <strong>Show serial</strong> under the <strong>Emulator</strong> to check how it works, before downloading the code to your real micro:bit.</p>
    <p>When running the code in real life, you will need to <strong>Show serial</strong> on the bottom bar to expand the terminal.</p>
    <p><strong>You may need to press the micro:bit's Reset button on the back to get your data.</strong></p>
    <br>
    <p>A stream of numbers can be difficult to follow, but you can make it more legible by adding extra things into your print statement. Try:</p>
    <pre>print('Light level =', light)</pre>
    <br>
    <p>You can expand it even further by adding as much information as you need, e.g.</p>
    <pre>print('Light level =', light, '; Temperature =', temp)</pre>
    <br>
    <p>Try it in your own program, adding as many print statements as seem helpful.</p>
    <p><em>Example program: <a href=".\examples\LightTemp-Print.py" target="_blank">LightTemp-Print.py</a></em></p>
    
    <br>
    <p>Print statements are extremely useful when testing new components, such as ultrasonic distance sensors, as you are able to make sure they are working correctly, and understand the values they give.</p>
    <pre>print('Front =', front, '; Left =', left)</pre>
    <br>
    <p><em>Example program: <a href=".\examples\RobotUltrasonics-Print.py" target="_blank">RobotUltrasonics-Print.py</a></em></p>
    <br>
    <br>
  </div>

  <div id="debugging2" class="left">
    <h3>debugging technique #2 - using the micro:bit's display</h3>
    <p>Once your initial debugging and calibration is complete, you will want to unplug your micro:bit from the computer, to attach it to your robot or use in some other project. This means that the terminal is no longer accessible.</p>
    <p>You can use the micro:bit's display to help you to quickly see if there is an error, for example if one of the sensors does something unexpected!</p>
    <br>
    <p>In your light and temperature program, you could create error messages if, for example, the temperature reaches 100 degrees, which would suggest something has gone wrong with the sensor.</p>
    <br>
    <p><em>Example program: <a href=".\examples\LightTemp-Display.py" target="_blank">LightTemp-Display.py</a></em></p>
    <br>
    <p>When an ultrasonic distance sensor is not working correctly, it can give a negative number. You could add an error notification into your robot program, to show something on the display if a sensor is not connected.</p>
    <br>
    <pre>if front < 0:
    display.show('F')</pre>
    <br>
    <p><em>Example program: <a href=".\examples\RobotUltrasonics-Display.py" target="_blank">RobotUltrasonics-Display.py</a></em></p>
    <br>
    <br>
  </div>

  <footer class="links">
    <a href="https://github.com/ScienceOxford/robot-camp/2024-club" target="_blank">View on GitHub</a>
  </footer>

</body>

</html>
